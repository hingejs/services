<html>

<head>
  <title>&#8762; Hingejs</title>
</head>

<body>
  <h1>&#8762; Hingejs</h1>
  <h2>HTML Marker</h2>
  <blockquote>
    HTML Marker is used to update string literal values without re-rendering
    any HTML.  Child nodes are supported but will not mark string literals
    that are a child of a custom element.  All values are mapped with the
    <strong>_safeHTML()</strong> function decorator.
  </blockquote>

  <h3>Decorators</h3>
  <p> Decorators are functions that can be used with string literals </p>
  <table border="1" cellpadding="10">
    <thead>
      <tr>
        <th>Decorator</th>
        <th>Description</th>
        <th>Code Sample</th>
      </tr>
    </thead>
    <tbody>
    <tr>
      <td> <strong> _unsafeHTML()</strong></td>
      <td> Allows you to output unsafe HTML </td>
      <td> <pre>${_unsafeHTML(variable)}</pre> </td>
    </tr>
    </tbody>
  </table>


  <h2><a href="index.html">&#8617; Go Back</a></h2>

  <h3>Sample code</h3>

  <pre>
      import { HtmlMarker } from 'https://cdn.jsdelivr.net/npm/@hingejs/services/index.min.js'

      (async () => {
        let model = { id: new Date().getTime(), test: 'this is a test' }
        const htmlMarker = new HtmlMarker(model)
        const htmlString = '&lt;p id="${id}">${test}&lt;/p>&lt;p>${_unsafeHTML(test)}&lt;/p>'
        await htmlMarker.render(document.body, htmlString)

        window.setInterval(() => {
          model = { test: `&lt;p>${new Date().getTime()}&lt;/p>` }
          htmlMarker.updateModel(model)
        }, 1000)
      })()
  </pre>

  <h3>Working sample</h3>
  <script type="module">
    import { HtmlMarker } from 'https://cdn.jsdelivr.net/npm/@hingejs/services@latest/index.min.js'

    (async () => {
      let model = { id: new Date().getTime(), test: 'this is a test' }
      const htmlMarker = new HtmlMarker(model)
      const htmlString = '<p id="${id}">${test}</p><p>${_unsafeHTML(test)}</p>'
      await htmlMarker.render(document.body, htmlString)

      window.setInterval(() => {
        model = { test: `<p>${new Date().getTime()}</p>` }
        htmlMarker.updateModel(model)
      }, 1000)
    })()
  </script>
</body>

</html>
