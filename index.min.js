!function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var s=(e,t=50)=>{let r;return s=>{r&&window.clearTimeout(r),r=window.setTimeout(e,t,s)}};var n=new class{constructor(){this.interceptors=new Map,window.fetch=(e=>(...t)=>this.interceptor(e,...t))(window.fetch)}register(e){const t=(new Date).getTime().toString(36)+performance.now();return this.interceptors.set(t,e),{unregister:this.unregister.bind(this,t)}}unregister(e){this.interceptors.delete(e)}clear(){this.interceptors=new Map}interceptor(e,...t){let r=Promise.resolve(t);return this.interceptors.forEach(({request:e,requestError:t})=>{(e||t)&&(r=r.then(t=>e(...t),t))}),r=r.then(t=>e(...t)),this.interceptors.forEach(({response:e,responseError:t})=>{(e||t)&&(r=r.then(e,t))}),r}};const a=/(\${.+?})/gi,i=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","readonly","required","reversed","selected","typemustmatch"];class o{constructor(e){this.referenceNodes=new Set,this.uuid=(new Date).getTime().toString(36)+performance.now().toString().replace(/[^0-9]/g,"")+"@",this.model={},this.updateModel(e)}async render(e,t){t=t.replace(/<!--[\s\S]*?-->/gm,"");const r=this._fragmentFromString(t),s=this._markerTree(r);return e&&(e.appendChild(s),await this._referenceTree(e),await this.update()),Promise.resolve(!0)}updateModel(e={}){return Object.assign(this.model,e),this.update()}_fragmentFromString(e){const t=document.createElement("template");return t.innerHTML=e,t.content.cloneNode(!0)}_markChildNodes(e){let t=[];return Array.from(e).forEach(e=>{if(e.hasChildNodes()&&(t=t.concat(this._markChildNodes(e.childNodes))),e.nodeValue&&e.nodeValue.trim().length){const r=e.nodeValue.trim().match(a);if(r){t=t.concat(r);const s=e.nodeValue.trim(),n=this._interpolate({params:this.model,template:s,useMarkers:!0}),a=this._parseHTML(n);e.parentNode.replaceChild(a,e)}}}),t}_markerTree(e){const t=document.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1);let r=[];for(;t.nextNode();){const e=t.currentNode;if((e.nodeType!==Node.ELEMENT_NODE||!window.customElements.get(e.tagName)&&!e.tagName.includes("-"))&&(e.hasChildNodes()&&(r=r.concat(this._markChildNodes(e.childNodes))),e.nodeValue&&e.nodeValue.trim().length)){const t=e.nodeValue.trim().match(a);if(t){r=r.concat(t);const s=e.nodeValue.trim(),n=this._interpolate({params:this.model,template:s,useMarkers:!0}),a=this._parseHTML(n);e.parentNode.replaceChild(a,e)}}}const s=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,null,!1);let n=0;for(;s.nextNode();)s.currentNode.textContent=`${this.uuid}${r[n++]}`;return e}_parseHTML(e){const t=document.createElement("template");return t.innerHTML=e,t.content.cloneNode(!0)}_interpolate({params:e,template:t,useMarkers:r=!1}){const s=Object.keys(e);let n=Object.values(e);return new Function(...s,r?`function markers (template, ...expressions) {\n        return template.reduce((accumulator, part, i) =>\n            \`\${accumulator}\x3c!----\x3e<span>\${expressions[i - 1]}</span>\${part}\`\n          )\n      } return markers\`${t}\``:`return \`${t}\``)(...n)}_referenceTree(e){const t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_ELEMENT,null,!1);for(;t.nextNode();){const e=t.currentNode;if(e.nodeType===Node.ELEMENT_NODE&&e.hasAttributes()){[...e.attributes].forEach(t=>{const r=t.value.match(a),s=i.includes(t.name);r&&(this.referenceNodes.add({isBooleanAttr:s,name:t.name,node:s?e:t,oldValue:null,value:t.value}),s&&e.setAttribute(t.name,""))})}if(e.nodeType===Node.COMMENT_NODE&&e.nodeValue.includes(this.uuid)){const t=e.nodeValue.replace(this.uuid,"");"TEXTAREA"===e.parentElement.tagName?this.referenceNodes.add({node:e.parentElement,oldValue:null,value:t}):this.referenceNodes.add({node:e,oldValue:null,value:t})}}return Promise.resolve(!0)}update(){return this.referenceNodes.forEach(({isBooleanAttr:e=!1,name:t="",node:r,oldValue:s=null,value:n},a)=>{if(document.body.contains(r)){let i=this._interpolate({params:this.model,template:n});if(!e&&i!==s)if(r.nodeType===Node.COMMENT_NODE){const e=this._parseHTML(`<span>${i}</span>`);r.parentNode.replaceChild(e,r.nextSibling)}else r.nodeType===Node.ATTRIBUTE_NODE?"class"===r.nodeName?i=this._handleClassValue({node:r,oldValue:s,value:n}):r.value=i:"TEXTAREA"===r.tagName&&(r.value=i);e&&r.toggleAttribute(t,!!i.toString().length),a.oldValue=i}else this.referenceNodes.delete(a)}),Promise.resolve(!0)}_handleClassValue({node:e,oldValue:t="",value:r}){const s=this._getNodeOwnerElement(e),n=r.split(" ").filter(e=>null!==e.match(a));let i=[],o=[];if(n&&(s.classList.remove(...n),o=(o=this._interpolate({params:this.model,template:n.join(" ")})).split(" ").filter(e=>e.length),Array.isArray(o))){t=Array.isArray(t)?t:[];const e=o.filter(e=>t.includes(e));t=t.filter(t=>!e.includes(t)),i=o.filter(t=>!e.includes(t))}return Array.isArray(t)&&t.length&&s.classList.remove(...t),Array.isArray(i)&&i.length&&s.classList.add(...i),o}_getNodeOwnerElement(e){let t=e.ownerElement;for(;t&&!t.tagName;)t=t.ownerElement;return t}}class h{constructor(){this.observers=new Map,this.errors=new Map,this.completes=new Map}subscribe(e){let t,r,s=e;"function"!=typeof e&&({next:s,error:r,complete:t}=e);const n=(new Date).getTime().toString(36)+performance.now().toString().replace(/[^0-9]/g,"");return s&&this.observers.set(n,s),r&&this.errors.set(n,r),t&&this.completes.set(n,t),{uid:n,unsubscribe:this.unsubscribe.bind(this,n)}}unsubscribe(e){this.observers.delete(e),this.errors.delete(e)}complete(){this.completes.forEach(e=>e()),this.observers=new Map,this.errors=new Map,this.completes=new Map}notify(e){this.observers.forEach(t=>t(e))}notifyError(e){this.errors.forEach(t=>t(e))}}class l extends h{constructor(e={}){super(),this.requestHeaders=e}async _httpFetch(e,t,r){const s=new Headers;"object"==typeof this.requestHeaders&&Object.entries(this.requestHeaders).forEach(([e,t])=>{s.set(e,t)});let n={cache:"default",method:r,mode:"cors"};n.body=t,!t||t instanceof FormData||(n.body=JSON.stringify(t),s.set("Content-Type","application/json")),n.headers=s;try{const t=await fetch(e,n),r=await t.clone().text(),s=r.length?JSON.parse(r):{};t.ok?this.notify(s):this.notifyError(t)}catch(e){this.notifyError(e)}}static addParamsToURL(e,t={}){let r=e;try{const s=new URL(e),n=s.searchParams;Object.entries(t).map(e=>e.map(window.encodeURIComponent)).forEach(([e,t])=>{n.has(e)||n.append(e,t)}),r=`${s.origin}${s.pathname}?${n.toString()}`}catch(t){r=e}return r}generateUrlParams(e={}){return`?${Object.entries(e).map(e=>e.map(window.encodeURIComponent).join("=")).join("&")}`}get(e,t=null){return t&&(e=this.constructor.addParamsToURL(e,t)),{subscribe:t=>{const r=this.subscribe.call(this,t);return this._httpFetch(e,null,"GET"),r}}}post(e,t){return{subscribe:r=>{const s=this.subscribe.call(this,r);return this._httpFetch(e,t,"POST"),s}}}put(e,t){return{subscribe:r=>{const s=this.subscribe.call(this,r);return this._httpFetch(e,t,"PUT"),s}}}delete(e){return{subscribe:t=>{const r=this.subscribe.call(this,t);return this._httpFetch(e,null,"DELETE"),r}}}}function u(e){return class extends e{constructor(){super(),this.model=this.defaultModel,this.htmlMarker=new o(this.model)}get defaultModel(){return{}}updateModel(e={}){const t={};Object.entries(e).forEach(([e,r])=>{this.model[e]!==r&&(t[e]=r)}),Object.assign(this.model,e),this.onModelUpdate(t)}onModelUpdate(){}}}var c=new class{constructor(){if(this.instance)return this.instance;this.instance=this,this._paths=new Map,this._basePath=window.location.origin,this._exitFn=null,this.paramRegex=/[:](\w+)/,this.lastRoutePath=window.sessionStorage.getItem("last-route-path")||"",this.historyChangeBind=this.historyChange.bind(this),window.addEventListener("url-change",this.historyChangeBind),window.addEventListener("popstate",this.historyChangeBind),this.$defaultPath;const e=this.urlFullPath();window.addEventListener("load",this.goto.bind(this,e))}getCurrentPath(){return window.decodeURIComponent(window.location.pathname)}getRoute(){let e=this.getAdjustedPath(this.getCurrentPath());return[...this._paths.keys()].map(this.fromBase64.bind(this)).find(t=>this._pathToRegex(t).test(e))}getAdjustedPath(e=""){return"/"===e.trim()?e:e.trim().split("/").filter(e=>e.length).join("/")}_safeDefaultPath(){let e="";return"/"===this.$defaultPath?e=this.$defaultPath:this.$defaultPath&&(e=this.$defaultPath.split("/").shift().replace(/[^\w]/g,"")),e}_defaultPathOption(){const e=this._safeDefaultPath();return!!this.$defaultPath&&this._pathToRegex(this.$defaultPath).test(e)}historyChange(){"function"==typeof this._exitFn&&this._exitFn(),this._exitFn=null;const e=this.getRoute();e&&this.hasPath(e)||!this._defaultPathOption()||this.goto(this._safeDefaultPath());const t=window.decodeURIComponent(this.urlFullPath());this.lastRoutePath!==t&&window.sessionStorage.setItem("last-route-path",this.lastRoutePath),this.lastRoutePath=t;let r=this.getPath(e),s={exit:this._exit.bind(this),params:this._pathParams(e),search:new URLSearchParams(window.location.search)};const n=e=>{if(Array.isArray(e)&&e.length){const t=e.shift();"function"==typeof t&&t(s,n.bind(this,e))}};Array.isArray(r)&&n(r.slice())}get basePath(){return this._basePath}goto(e,t=""){return window.history.pushState(e,t,`${this.basePath}${this.urlFullPath(e)}`),window.dispatchEvent(new CustomEvent("url-change",{detail:e})),this}urlFullPath(e=window.location.href){return this.urlPathname(e)+this.urlHash(e)+this.urlParams(e)}urlPathname(e){return new URL(e,this.basePath).pathname}urlHash(e){return new URL(e,this.basePath).hash}urlParams(e){const t=Array.from(new URL(e,this.basePath).searchParams.entries()),r=new URLSearchParams(window.location.search);t.forEach(([e,t])=>{r.has(e)||r.append(e,t)});const s=r.toString();return s.length?`?${s}`:""}toBase64(e){return window.btoa(window.unescape(window.encodeURIComponent(e)))}fromBase64(e){return window.decodeURIComponent(window.escape(window.atob(e)))}setPath(e,...t){return(e=this.getAdjustedPath(e)).length&&this._paths.set(this.toBase64(e),t),this}defaultPath(e,...t){return(e=this.getAdjustedPath(e)).length&&(this.$defaultPath=e,this.setPath(this.$defaultPath,...t)),this}getPath(e){return this._paths.get(this.toBase64(e))}hasPath(e){return this._paths.has(this.toBase64(e))}reload(){this.goto(this.urlFullPath())}_exit(e){this._exitFn=e}_pathToRegex(e=""){const t=this.getAdjustedPath(e).split("/").filter(e=>e.length).map(e=>this.paramRegex.test(e)?`([\\w\\s&!$*:\\-+]+)${e.includes("?")?"?":""}`:e).join("/?");return new RegExp(`^/?${t||"/"}/?$`)}_pathParams(e=""){const t=e.match(/[:](\w+)/g),r=this.getAdjustedPath(this.getCurrentPath()).match(this._pathToRegex(e));let s=new Map;return t&&r&&(r.shift(),t.map(e=>e.replace(":","")).forEach(e=>{s.set(e,r.shift())})),s}removeURLSearchParams(){window.history.replaceState({},document.title,window.location.pathname)}};function d(e){return class extends e{constructor(){super(),this.subscription=null}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this.subscription&&(Array.isArray(this.subscription)?this.subscription.forEach(e=>e.unsubscribe()):this.subscription.unsubscribe()),this.subscription=null}}}r.d(t,"Debounce",function(){return s}),r.d(t,"FetchInterceptor",function(){return n}),r.d(t,"HtmlMarker",function(){return o}),r.d(t,"HttpFetch",function(){return l}),r.d(t,"ModelMixin",function(){return u}),r.d(t,"Observable",function(){return h}),r.d(t,"Router",function(){return c}),r.d(t,"SubscriptionMixin",function(){return d})}]);